# Football Commentator

![Interface Screenshot](./images/interface.png)

Football Commentator is an application designed to deliver real-time, professional football commentary using structured event data and Large Language Models (LLMs). Giving game events, we preprocess them before generating an LLM commentary.

This project uses data from a publicly available [Football Analytics Event Data - StatsBomb](https://www.kaggle.com/datasets/hardikagarwal1/football-analytics-event-data-statsbomb?) dataset on Kaggle. Data is generated by StatsBomb and curated by humans for real-time live score and statistics apps.

The aim of this project is to help live scoring platform to generate commentaries for all games without any latency and in any language for all moments of a game and not only key moments.

> **Note:** Currently, I am working on a new version of the tool. This new version aims to avoid any reliance on any external source to retrieve football events. The tool will be able to directly detect the events using Computer Vision techniques (object detection, player tracking and action detection).
The objective is to have an AI-based events detector for a football statistical usage and to generate live commentaries.

---

## Overview

**Current Version:**  
- Uses curated event data from StatsBomb (via Kaggle).  
- Preprocess data in structured format.
- Use LLMs to generate match commentaries.
- A Streamlit interface displays match information and real-time commentaries.

**Future Version:**  
- **Automated Event Extraction:**  
  - **YOLO Object Detection:** Detect the ball, players, referees, and other key elements in real time.
  - **Player Tracking:** Continuously track players' positions.
  - **Action Detection:** Automatically classify match events (passes, shots, fouls, etc.).

---

## How it works

1. **Match Metadata Configuration**  
   - Create a YAML file containing game information such as team names, line-ups, stadium, competition, and date.
   - An template file: `match_metadata_template.yml`.
   - You need to specify the path to this file using an environment varable `MATCH_METADATA_PATH`m:
     ```bash
     export MATCH_METADATA_PATH=/path/to/match_metadata_template.yml
     ```

2. **Event Source Configuration**  
   - Specify the source of events using the environment variable `SOURCE_EVENTS`.
   - This variable specifies whether the data comes from a JSON file, an API endpoint, or any other source added in future versions.
   - Example:
     ```bash
     export SOURCE_EVENTS=/path/to/events.json 
     ```

3. **LLM Configuration**  
   - Set up the OpenAI API key:
     ```bash
     export OPENAI_API_KEY=your-api-key
     ```
   - (Optional) Set up the LLM model name. If not specified, a default value is `gpt-4o-mini`:
     ```bash
     export OPENAI_MODEL_NAME=model_name 
     ```
   - (Optional) Set up the model temperature. If not specified, a default value is `0.05`
     ```bash
     export MODEL_TEMPERATURE=temperature
     ```

4. **Run the Interface**  
   - Start the Streamlit app and the commentator using:
     ```bash
     football-commentator
     ```

--

## Installation

1. **Clone the Repository:**
   ```bash
   git clone https://github.com/yourusername/football-commentator.git
   cd football-commentator
   ```

2. **Install Dependencies:**
   ```bash
   uv sync
   ```


---

## Usage

### Running the Streamlit App

You can launch the app using the script defined in your `pyproject.toml`:

```bash
football-commentator
```

---

## Conclusion

Football Commentator blends data-driven insights with commentaries to create a dynamic broadcasting tool for football matches. With a strong foundation using curated StatsBomb data and a forward-looking vision incorporating advanced computer vision techniques, this project stands at the intersection of sports analytics and modern ML engineering.

*Contributions, suggestions, or collaborations are welcome!*

